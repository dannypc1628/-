<!DOCTYPE html>
<html>
<head>
	<title>歡迎來到</title>
	<meta charset="UTF-8">

	<script src="js/jquery.min.js"></script>
<!--	<script>
	$(document).ready(function(){
	    $("button").click(function(){
	        $.get("http://www.w3schools.com/jquery/demo_test.asp", function(data, status){
	            alert("Data: " + data + "\nStatus: " + status);
	        });
	    });
	});
	</script>
	
	<script>
	$(function(){
		$.ajax({
			type: 		"POST",
			url: 		"http://XX.com?callback=?", //使用JSONP務必在結尾使用 GET 的 callback=?
			dataType: 	"jsonp", 
			success: 	function (data)
						{
							console.log(data)
						},
			error: 		function (data)
						{
							console.log(data);
						}
 
		})
	})
	</script>

	<script type="text/javascript">

		var invocation = new XMLHttpRequest();
		var url = 'http://bar.other/resources/public-data/';
   
		function callOtherDomain() {
		  if(invocation) { 
			  invocation.onreadystatechange=function()
			  {
			  if (invocation.readyState==4 && invocation.status==200)
			    {
			    document.getElementById("myDiv").innerHTML=xmlhttp.responseText;
			    }
			  }   
		    invocation.open('GET', url, true);
		    invocation.onreadystatechange = handler;
		    invocation.send(); 
		  }
		}
	</script>
	<script type="text/javascript">
		function loadXMLDoc()
		{
		var xmlhttp;
		if (window.XMLHttpRequest)
		  {// code for IE7+, Firefox, Chrome, Opera, Safari
		  xmlhttp=new XMLHttpRequest();
		  }
		else
		  {// code for IE6, IE5
		  xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
		  }
		xmlhttp.onreadystatechange=function()
		  {
		  if (xmlhttp.readyState==4 && xmlhttp.status==200)
		    {
		    document.getElementById("myDiv").innerHTML=xmlhttp.responseText;
		    }
		  }
		xmlhttp.open("GET","http://www.w3schools.com/ajax/ajax_info.txt",true);
		xmlhttp.send();
		}
</script>
-->
<script type="text/javascript">
		function sendMessage(){
			 var userName = $('#userName').val;
			 var stringUrl="http://140.136.150.71:20003/user/add?username="+userName;
			 var serverUrl=stringUrl;
          
            $.ajax({
                url: serverUrl,
                data: $('#sentToBack').serialize(),
                type:"GET",
                dataType:'jsonp',

                success: function(msg){
                    alert(msg);
                },

                 error:function(xhr, ajaxOptions, thrownError){
                    alert(xhr.status);
                    alert(thrownError);
                 }
            });

		}


</script>

</head>

<body>

<form action=>
	帳號：<input type="text" name="userName" id="userName">
	<br>
	密碼：<input type="text" name="password" id="password">
	<br>
	<input type="submit" value="送出" onclick="sendMessage()">
	<button type="button" onclick="sendMessage(userName,password)">登入</button>
	<button type="button" >送出測試</button>

</form>

<div id="myDiv"></div>

<script type="text/javascript">
$(document).ready(function (){
    $("#btn392").click(function(){                
        var url = "http://www.pureexample.com/backend/ajax_crossdomain.aspx";
         
        var success = function(data){
            var html = [];
            /* parse JSON */
            data = $.parseJSON(data);
            /* loop through array */
            $.each(data, function(index, d){            
                html.push("Manufacturer : ", d.Manufacturer, ", ",
                          "Sold : ", d.Sold, ", ", 
                          "Month : ", d.Month, "<br>");
            });
 
            $("#div391").html(html.join('')).css("background-color", "orange");
        };
         
        $.ajax({
          type: 'GET',    
          url: url,
          data:{todo:"jsonp"},
          dataType: "jsonp",
          crossDomain: true,          
          cache:false, 
          success: success,
          error:function(jqXHR, textStatus, errorThrown){
            alert(errorThrown);
          }
        });
    });
});
</script>
 
<!-- HTML -->
<a name="#jsonp-ajax"></a>
<div id="example-section39">    
    <div>Car sale report</div>
    <div id="div391"></div>
    <button id="btn392" type="button">Click </button>
</div>

</body>
</html>